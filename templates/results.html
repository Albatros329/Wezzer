<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wezzer | {{ version }}</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="shortcut icon" href="/static/images/logo.png" type="image/x-icon">
    <script src="/static/js/core.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="loader">
        <img src="/static/images/logo.png" alt="Chargement en cours...">
        <br/>
        <h1 style="margin-left: 10px;">Wezzer {{ version }}</h1>
        <p>Recherche en cours...</p>
        <span class="loading"></span>
    </div>

    <div class="nav">
        <p>Résultats de recherche<br></p>
        <div id="nav-btn">
            <h4 style="font-size: 30px; cursor: pointer;" onclick="document.location.href='/'"><ion-icon name="home"></ion-icon></h4>
        </div>
    </div>
    <section id="header">
        <p><ion-icon name="search"></ion-icon> Nombre de résultats : {{ n }}<br><ion-icon name="time"></ion-icon> Temps de chargement : {{ data["generationtime_ms"] }} ms</p>
    </section>
    
    <section id="details">
        {% for city in data["results"] %}
        <a href="/set_location?cityname={{ city['name'] }}&country={{ city['country'] }}&latitude={{ city['latitude'] }}&longitude={{ city['longitude'] }}" style="color: white; text-decoration: none;">
            <div class="detail" style="cursor: pointer;">
                <br>
                <p class="detail-content" style="color: #B6BBC4;"><img src="https://open-meteo.com/images/country-flags/{{ city['country_code'] }}.svg" width="13px"> {{ city["country"] }}, {{ city["admin1"] }}</p>
                <p class="detail-content" style="font-size: 30px; bottom: 35px;">{{ city["name"] }} {{ city["admin2"] }}</p>
            </div>
        </a>
        {% endfor %}
    </section>

    <script>
        window.addEventListener('load', function () {
            var loader = document.getElementById('loader');
            loader.style.display = 'none';
        });
    </script>
</body>
</html>
