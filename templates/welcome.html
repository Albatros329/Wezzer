<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wezzer</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="shortcut icon" href="/static/images/logo.png" type="image/x-icon">
    <script src="/static/js/core.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="loader">
        <img src="/static/images/logo.png" alt="Chargement en cours...">
        <br/>
        <h1 style="margin-left: 10px;">Wezzer {{ version }}</h1>
        <p>Recherche en cours...</p>
        <span class="loading"></span>
    </div>

    <div class="tutorial">
        <img src="/static/images/logo.png" width="110px">
        <br/>
        <h2><img src="https://images.emojiterra.com/google/noto-emoji/animated-emoji/1f44b.gif" width="25px"> Bienvenue sur Wezzer !</h2>
        <p>Pour commencer à utiliser l'application, veuillez choisir entre l'une des options ci-dessous afin de vous fournir la météo de votre localisation.</p>
        <a type="button" class="btn btn-primary" onclick="getLocationAndRedirect()"><ion-icon name="locate"></ion-icon> Utiliser la localisation GPS</a>
        <a type="button" class="btn btn-primary" href="#" data-bs-toggle="modal" data-bs-target="#search"><ion-icon name="map"></ion-icon> Utiliser le nom de ma ville</a>
        <p id="welcome-info"><strong><ion-icon name="information-circle"></ion-icon> Information : </strong>Cet assistant de configuration apparaît chaque fois qu'aucun cookie n'est détecté. Il est donc normal qu'il réapparaisse après un nettoyage des cookies de l'application ou du navigateur.</p>
    </div>

    <div class="modal fade" id="search" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5"><ion-icon name="search"></ion-icon> Rechercher une ville</h1>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/search_city" method="get">
                <div class="modal-body">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Entrez le nom de la ville" name="city">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><ion-icon name="close-circle"></ion-icon> Fermer</button>
                    <button class="btn btn-primary" type="submit"><ion-icon name="search"></ion-icon> Rechercher</button>
                </div>
            </form>
          </div>
        </div>
    </div>

    <script>
        window.addEventListener('load', function () {
            var loader = document.getElementById('loader');
            loader.style.display = 'none';
        });
    </script>
</body>
</html>
